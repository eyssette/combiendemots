let words = document.getElementById("words");
let characters = document.getElementById("characters");
let lettersAndNumbers = document.getElementById("letters-and-numbers");
let sentences = document.getElementById("sentences");
let readingTime = document.getElementById("reading-time");
let handwritingTime = document.getElementById("handwriting-time");
let speakingTime = document.getElementById("speaking-time");
let numberOfImportantWords = document.getElementById("number-important-words");
let percentageOfImportantWords = document.getElementById("percentage-important-words");
let percentageOfImportantWordsNotShort = document.getElementById("percentage-important-words-not-short");
let numberOfLongWords = document.getElementById("number-long-words");
let percentageOfLongWords = document.getElementById("percentage-long-words");
let numberOfDifferentLongWords = document.getElementById("number-different-long-words");
let averageWordLength = document.getElementById("average-word-length");
let averageSentenceLength = document.getElementById("average-sentence-length");

let input = document.getElementById("champ-texte");
input.oninput = handleInput;

function handleInput(e) {
	let text = input.value.trim();
	let regex1 = /[^a-zA-Z\d\s\u00C0-\u00FF]/g;
	let regex2 = /[\s+]/g;
	let textClean = text.replace(regex1, '').replace(':', '').trim();
	let textCleanNoWhiteSpace = textClean.replace(regex2,'');
	let wordsList = textClean.split(/\s+/).filter(function (el) {
		return el != '';
	  });
	let wordsCounter = wordsList.length;
	let charactersCounter = text.length;
	let lettersAndNumbersCounter = textCleanNoWhiteSpace.length;
	let sentencesClean = text.split('.').filter(function (el) {
		return el != '';
	  });
	let sentencesCounter = sentencesClean.length;
	if (wordsList >0 && sentencesCounter == 0){sentencesCounter=1};
	let readingTimeCounter = (wordsCounter/250)*60;
	let handwritingTimeCounter1 = (wordsCounter/15)*60;
	let handwritingTimeCounter2 = (charactersCounter/160)*60;
	let handwritingTimeCounterMin = Math.min(handwritingTimeCounter1,handwritingTimeCounter2);
	let handwritingTimeCounterMax = Math.max(handwritingTimeCounter1,handwritingTimeCounter2);
	let speakingTimeCounter = (wordsCounter/150)*60; ;
	let longWordsList = wordsList.filter(word => word.length > 7);
	let textWithOnlyImportantWords = remove_stopwords(textClean);
	let importantWordsList = textWithOnlyImportantWords.split(/\s+/).filter(function (el) {
		return el != '';
	  });
	let numberOfImportantWordsCounter = importantWordsList.length;
	let percentageOfImportantWordsCounter = Math.round((numberOfImportantWordsCounter / wordsCounter)*100*10)/10;
	let importantWordsNotShortList = importantWordsList.filter(word => word.length > 4);
	let numberOfImportantWordsNotShortCounter = importantWordsNotShortList.length;
	let percentageOfImportantWordsNotShortCounter = Math.round((numberOfImportantWordsNotShortCounter / wordsCounter)*100*10)/10;
	let numberOfLongWordsCounter = longWordsList.length;
	let percentageOfLongWordsCounter = Math.round((numberOfLongWordsCounter / wordsCounter)*100*10)/10;
	let differentLongWordsList = [...new Set(longWordsList)];
	let numberOfDifferentLongWordsCounter = differentLongWordsList.length;
	let averageWordLengthCounter = Math.round((lettersAndNumbersCounter/wordsCounter)*10)/10;
	let averageSentenceLengthCounter = Math.round((wordsCounter/sentencesCounter)*10)/10;
	words.innerHTML = wordsCounter;
	characters.innerHTML = charactersCounter;
	lettersAndNumbers.innerHTML = lettersAndNumbersCounter;
	sentences.innerHTML = sentencesCounter;
	readingTime.innerHTML = tempsEnMinutesEtSecondes(readingTimeCounter); 
	handwritingTime.innerHTML = 'entre '+tempsEnMinutesEtSecondes(handwritingTimeCounterMin) + ' et ' +tempsEnMinutesEtSecondes(handwritingTimeCounterMax) ; 
	speakingTime.innerHTML = tempsEnMinutesEtSecondes(speakingTimeCounter); 
	numberOfImportantWords.innerHTML = numberOfImportantWordsCounter;
	if (percentageOfImportantWordsCounter) { percentageOfImportantWords.innerHTML = percentageOfImportantWordsCounter+' %';} else {percentageOfImportantWords.innerHTML ='0';}
	if (percentageOfImportantWordsNotShortCounter) { percentageOfImportantWordsNotShort.innerHTML = percentageOfImportantWordsNotShortCounter+' %';} else {percentageOfImportantWordsNotShort.innerHTML ='0';}
	numberOfLongWords.innerHTML = numberOfLongWordsCounter;
	if (percentageOfLongWordsCounter) { percentageOfLongWords.innerHTML = percentageOfLongWordsCounter+' %';} else {percentageOfLongWords.innerHTML='0';}
	numberOfDifferentLongWords.innerHTML = numberOfDifferentLongWordsCounter ;
	if (averageWordLengthCounter) {averageWordLength.innerHTML = averageWordLengthCounter+ ' caractères';} else {averageWordLength.innerHTML = '0';}
	if (averageSentenceLengthCounter) {averageSentenceLength.innerHTML = averageSentenceLengthCounter+ ' mots';} else {averageSentenceLength.innerHTML = '0'}
}

function tempsEnMinutesEtSecondes(time) {
let minutes = Math.floor(time / 60);
let seconds = time - minutes * 60;
let temps = 0;
if (seconds == 0) {
	temps = minutes+" m";
} else if (time < 60) {
	temps = Math.round(time)+" s";
} else {
	temps = minutes+" m "+Math.round(seconds)+" s";
}
return temps;
}

let conjonctionsEtPrepositions = ["mais", "ou", "et", "donc", "or", "ni", "car", "à", "l'instar", "afin", "après", "attendu", "au-dessus", "aube", "audit", "auprès", "autour", "auxdites", "auxdits", "avant", "avec", "bicause", "chez", "compte-tenu", "concernant", "considérant", "considéré", "contre", "d'un", "d'une", "dans", "de", "dedans", "dehors", "depuis", "derrière", "desdites", "desdits", "devant", "devers", "dont", "dudit", "durant", "dès", "en", "endéans", "entre", "envers", "excepté", "fors", "grâce", "hormis", "hors", "jouxte", "jusqu", "jusqu'au", "jusqu'à", "jusque", "jusques", "lez", "lès", "malgré", "moyennant", "nonobstant", "outre", "par", "par-dedans", "par-delà", "par-derrière", "par-dessous", "par-dessus", "par-devant", "par-devers", "parmi", "passé", "pendant", "plein", "posé", "pour", "près", "revoici", "revoilà", "rez", "sans", "sauf", "selon", "sinon", "sitôt", "sous", "sous-prieur", "suivant", "supposé", "sur", "touchant", "vers", "versus", "via", "vis-à-vis", "voici", "voilà", "vu", "à", "l'encontre", "l'instar", "â", "ès", "ôté", "afin" , "qu'il" , "qu'ils" , "qu'on" , "qu'eux" , "qu'elle" , "qu'elles" , "afin" , "alors" , "aussi" , "cependant" , "comme" , "comment" , "jusque-là" , "lorsqu'un" , "lorsqu'une" , "lorsque" , "ni" , "néanmoins" , "or" , "ore" , "parce" , "parce" , "partant" , "pourquoi" , "puis" , "puisqu" , "puisque" , "puissamment" , "qu" , "quand" , "que" , "quoiqu'il", "quoiqu'ils", "quoiqu'elle", "quoiqu'elles", "quoiqu'on" , "quoique" , "s'" , "s'il" , "si" , "sinon" , "soit" , "tandis" , "tandis" , "tandis"];
let determinants = ["un", "une", "des", "la", "le", "les", "l'", "au", "aux", "de", "du", "des", "mon", "ma", "mes", "ton", "ta", "tes", "son", "sa", "ses", "notre", "nos", "votre", "vos", "leur", "leurs", "ce", "cet", "cette", "ces", "aucun", "chaque", "nul",  "plusieurs", "quelques", "certains", "certaines"];
let pronoms = ["je", "tu", "il", "elle", "nous", "vous", "ils", "elles", "me", "moi", "te", "toi", "se", "en", "y", "lui", "soi", "eux", "celui", "celui-ci", "celui-là", "celle", "celle-là", "ceux", "ceux-ci", "ceux-là", "celles", "celles-ci", "celles-là", "ce", "ceci", "cela", "ça", "mien", "tien", "sien", "mienne", "tienne", "sienne", "miens", "tiens", "siens", "miennes", "tiennes", "siennes", "nôtre", "vôtre", "nôtres", "vôtres", "qui", "que", "quoi", "qu'il", "qu'ils", "qu'elle", "qu'elles", "qu'on", "qu'eux", "qu'un", "qu'une", "dont", "où", "lequel", "auquel", "duquel", "laquelle", "lesquels", "auxquels", "desquels", "lesquelles", "auxquelles", "desquelles", "qu'est-ce", "on", "tout", "aucun", "aucune", "aucuns", "aucunes", "certaines", "tel", "telle", "tels", "telles", "toute", "tous", "toutes", "même", "mêmes", "nulle", "nuls", "nulles", "quelqu'un", "quelqu'une", "autrui", "quiconque"];
let adverbes = ["abominablement", "abondamment", "abruptement", "absolument", "abstraitement", "abusivement", "admirablement", "accessoirement", "accidentellement", "acquiescement", "activement", "actuellement", "adagio", "adjectivement", "admirablement", "admirativement", "adorablement", "adroitement", "adverbialement", "affectueusement", "affirmativement", "affreusement", "agilement", "agréablement", "agressivement", "aigrement", "ailleurs", "aimablement", "ainsi", "aisément", "aléatoirement", "alentour", "alertement", "algébriquement", "alias", "allègrement", "allegretto", "allegro", "allusivement", "alors", "alphabétiquement", "alternativement", "ambitieusement", "amèrement", "amicalement", "amoroso", "amoureusement", "analogiquement", "anarchiquement", "anciennement", "andante", "andantino", "angéliquement", "annuellement", "anonymement", "anormalement", "antérieurement", "anxieusement", "apparemment", "approximativement", "après", "après-demain", "arbitrairement", "ardemment", "arrière", "artificiellement", "artisanalement", "artistiquement", "assez", "assidûment", "assurément", "astucieusement", "atrocement", "attentivement", "aucunement", "audacieusement", "au-dedans", "au-dehors", "au-delà", "au-dessous", "au-dessus", "au-devant", "aujourd'hui", "auparavant", "auprès", "aussi", "aussitôt", "autant", "automatiquement", "autoritairement", "autour", "autrefois", "autrement", "avant", "avantageusement", "avant-hier", "aveuglément", "avidement", "banalement", "banco", "bas", "bassement", "béatement", "beaucoup", "bénévolement", "bestialement", "bêtement", "bien", "bientôt", "bigrement", "bilatéralement", "bis", "bizarrement", "bon", "bougrement", "bourgeoisement", "bravement", "bref", "brièvement", "brillamment", "brusquement", "brutalement", "bruyamment", "çà", "calmement", "candidement", "capricieusement", "carrêment", "catégoriquement", "cavalièrement", "céans", "cependant", "cérémonieusement", "certainement", "certes", "chaleureusement", "charitablement", "charnellement", "chastement", "chaudement", "chèrement", "chichement", "chimiquement", "chrétiennement", "chronologiquement", "ci", "cinquièmement", "civilement", "clairement", "clandestinement", "classiquement", "cliniquement", "collectivement", "combien", "comme", "comment", "commercialement", "commodément", "communément", "comparativement", "complètement", "concrètement", "concurremment", "confidentiellement", "confortablement", "confusément", "conjointement", "conjugalement", "consciemment", "consciencieusement", "conséquemment", "considérablement", "constamment", "constitutionnellement", "continuellement", "continûment", "contre", "convenablement", "convulsivement", "copieusement", "coquettement", "cordialement", "correctement", "corrélativement", "courageusement", "couramment", "courtoisement", "craintivement", "crânement", "crescendo", "criminellement", "cruellement", "curieusement", "cyniquement", "dangereusement", "davantage", "debout", "deçà", "décemment", "décidément", "dédaigneusement", "dedans", "défavorablement", "défectueusement", "définitivement", "dehors", "déjà", "delà", "délibérément", "délicatement", "délicieusement", "demain", "démesurément", "demi", "démocratiquement", "depuis", "déraisonnablement", "derechef", "dernièrement", "derrière", "désagréablement", "désespérément", "désormais", "dessous", "dessus", "deuxièmement", "devant", "dévotement", "diablement", "diaboliquement", "diamétralement", "différemment", "difficilement", "diffusément", "dignement", "diplomatiquement", "directement", "discrètement", "distinctement", "distraitement", "diversement", "divinement", "dixièmement", "doctement", "dogmatiquement", "donc", "dorénavant", "doublement", "doucement", "doucereusement", "doucettement", "douillettement", "dramatiquement", "drôlement", "dubitativement", "dûment", "durablement", "durement", "dynamiquement", "économiquement", "effectivement", "efficacement", "effrontément", "effroyablement", "également", "électriquement", "élégamment", "elliptiquement", "élogieusement", "éminemment", "emphatiquement", "empiriquement", "encore", "énergiquement", "enfin", "énormément", "ensemble", "ensuite", "entièrement", "entre-temps", "environ", "éperdument", "épisodiquement", "épouvantablement", "équitablement", "essentiellement", "est-ce-que", "esthétiquement", "éternellement", "étonnamment", "étourdiment", "étourdissement", "étrangement", "étroitement", "étymologiquement", "évasivement", "éventuellement", "évidemment", "exactement", "exagérément", "excellemment", "exceptionnellement", "excessivement", "exclusivement", "exemplairement", "exhaustivement", "expérimentalement", "explicitement", "exprès", "expressément", "extérieurement", "extraordinairement", "extrêmement", "fabuleusement", "fâcheusement", "facilement", "facultativement", "faiblement", "fameusement", "familièrement", "fanatiquement", "fantastiquement", "farouchement", "fatalement", "faussement", "fautivement", "favorablement", "fébrilement", "fermement", "férocement", "fictivement", "fidèlement", "fièrement", "fiévreusement", "finalement", "financièrement", "finement", "fiscalement", "follement", "foncièrement", "fondamentalement", "forcément", "formellement", "formidablement", "fort", "fortement", "fortissimo", "fortuitement", "fougueusement", "fraîchement", "franchement", "franco", "fraternellement", "frauduleusement", "frénétiquement", "fréquemment", "frileusement", "frivolement", "froidement", "fructueusement", "fugitivement", "furieusement", "furtivement", "futilement", "gaiement", "gaillardement", "galamment", "gauloisement", "généralement", "généreusement", "génétiquement", "gentiment", "globalement", "glorieusement", "gloutonnement", "gorge-de-pigeon", "goulûment", "gracieusement", "graduellement", "grandement", "graphiquement", "grassement", "gratis", "gratuitement", "grossièrement", "guère", "habilement", "habituellement", "haineusement", "hardiment", "hargneusement", "harmonieusement", "hâtivement", "hebdomadairement", "héréditairement", "hermétiquement", "héroïquement", "heureusement", "hideusement", "hier", "hiérarchiquement", "historiquement", "honnêtement", "horizontalement", "horriblement", "hostilement", "huitièmement", "humainement", "humblement", "hypocritement", "ici", "idem", "ignoblement", "illégalement", "illégitimement", "illico", "illogiquement", "illusoirement", "immanquablement", "immédiatement", "immensément", "immodérément", "immuablement", "imparfaitement", "impassiblement", "impatiemment", "impeccablement", "impérativement", "imperceptiblement", "impérialement", "impérieusement", "impersonnellement", "imperturbablement", "impétueusement", "impitoyablement", "implacablement", "impoliment", "improprement", "impromptu", "imprudemment", "impudemment", "impulsivement", "impunément", "incessamment", "incidemment", "inclusivement", "incomparablement", "incognito", "incomplètement", "inconditionnellement", "inconfortablement", "incongrûment", "inconsciemment", "inconsidérément", "incontestablement", "incorrectement", "incorrigiblement", "incroyablement", "indécemment", "indéfiniment", "indéniablement", "indépendamment", "indifféremment", "indignement", "indirectement", "indiscrètement", "indiscutablement", "indissolublement", "indistinctement", "individuellement", "indolemment", "indubitablement", "indûment", "industriellement", "inefficacement", "inégalement", "inélégamment", "inéluctablement", "inépuisablement", "inévitablement", "inexactement", "inexorablement", "inexplicablement", "inextricablement", "infailliblement", "infatigablement", "infidèlement", "infiniment", "inflexiblement", "infra", "infructueusement", "ingénieusement", "ingénument", "inhumainement", "iniquement", "initialement", "injustement", "innocemment", "inopinément", "inopportunément", "insensiblement", "inséparablement", "insidieusement", "insolemment", "instamment", "instantanément", "instinctivement", "insuffisamment", "intarissablement", "intégralement", "intellectuellement", "intelligemment", "intelligiblement", "intensément", "intensivement", "intentionnellement", "intérieurement", "interminablement", "intimement", "intransitivement", "intrépidement", "intrinsèquement", "intuitivement", "inutilement", "invariablement", "inversement", "invinciblement", "involontairement", "invraisemblablement", "ironiquement", "irréductiblement", "irréfutablement", "irrégulièrement", "irrémédiablement", "irréparablement", "irréprochablement", "irrésistiblement", "irrespectueusement", "irrévérencieusement", "irréversiblement", "irrévocablement", "item", "jadis", "jalousement", "jamais", "joliment", "journellement", "judiciairement", "judicieusement", "juridiquement", "justement", "là", "là-bas", "laborieusement", "laconiquement", "là-haut", "laidement", "lamentablement", "langoureusement", "largement", "lascivement", "latéralement", "légitimement", "lentement", "lestement", "libéralement", "librement", "linéairement", "lisiblement", "littérairement", "littéralement", "localement", "logiquement", "loin", "longtemps", "longuement", "lors", "lourdement", "lucidement", "lugubrement", "lumineusement", "luxueusement", "machinalement", "magiquement", "magistralement", "magnanimement", "magnifiquement", "maigrement", "maintenant", "majestueusement", "majoritairement", "mal", "maladivement", "maladroitement", "malaisément", "malencontreusement", "malheureusement", "malhonnêtement", "malicieusement", "malignement", "malproprement", "manifestement", "manuellement", "marginalement", "matériellement", "maternellement", "mathématiquement", "méchamment", "médicalement", "médiocrement", "mélancoliquement", "mélodieusement", "même", "mensuellement", "mentalement", "merveilleusement", "mesquinement", "métaphoriquement", "méthodiquement", "méticuleusement", "mielleusement", "mieux", "militairement", "minutieusement", "miraculeusement", "misérablement", "moderato", "modestement", "moindrement", "moins", "mollement", "mondialement", "monstrueusement", "moralement", "mordicus", "morphologiquement", "mortellement", "moyennement", "mûrement", "musicalement", "mutuellement", "mystérieusement", "mystiquement", "naïvement", "naguère", "naturellement", "ne", "néanmoins", "nécessairement", "négativement", "négligemment", "neuvièmement", "niaisement", "noblement", "nominalement", "nominativement", "nommément", "non", "nonchalamment", "normalement", "notablement", "notamment", "notoirement", "notoirement", "nouvellement", "nuitamment", "nullement", "numériquement", "objectivement", "obligatoirement", "obligeamment", "obliquement", "obscurément", "obséquieusement", "obstinément", "occasionnellement", "officiellement", "officieusement", "oïl", "oisivement", "onzièmement", "opiniâtrement", "opportunément", "oralement", "ordinairement", "ores", "organiquement", "orgueilleusement", "originairement", "originellement", "ostensiblement", "où", "oui", "outrageusement", "outre", "ouvertement", "pacifiquement", "partant", "pas", "paradoxalement", "parallèlement", "parcimonieusement", "pareillement", "paresseusement", "parfaitement", "parfois", "partiellement", "particulièrement", "partiellement", "partout", "passablement", "passagèrement", "passionnellement", "passionnément", "passivement", "paternellement", "pathétiquement", "patiemment", "pauvrement", "pécuniairement", "péjorativement", "péniblement", "pensivement", "péremptoirement", "perfidement", "périodiquement", "pernicieusement", "perpendiculairement", "perpétuellement", "personnellement", "pertinemment", "pesamment", "petitement", "peu", "peureusement", "peut-être", "philosophiquement", "phonétiquement", "piètrement", "pieusement", "pis", "piteusement", "pitoyablement", "placidement", "plaintivement", "plaisamment", "platement", "pleinement", "plus", "plutôt", "poliment", "politiquement", "pompeusement", "ponctuellement", "populairement", "posément", "positivement", "postérieurement", "potentiellement", "pourquoi", "pourtant", "poussivement", "pratiquement", "préalablement", "précairement", "précautionneusement", "précédemment", "précieusement", "précipitamment", "précisément", "précocement", "prématurément", "premièrement", "près", "présentement", "presque", "prestement", "prestissimo", "presto", "prétendument", "prétentieusement", "préventivement", "primitivement", "primo", "princièrement", "principalement", "prioritairement", "probablement", "prochainement", "proche", "prodigieusement", "professionnellement", "profondément", "progressivement", "promptement", "pronominalement", "proportionnellement", "proprement", "prou", "proverbialement", "providentiellement", "provisoirement", "prudemment", "psychologiquement", "pudiquement", "puérilement", "puis", "puissamment", "purement", "qualitativement", "quand", "quantitativement", "quarto", "quasi", "quasiment", "quatorzièmement", "quatrièmement", "quelque", "quelquefois", "quinzièmement", "quotidiennement", "radicalement", "raisonnablement", "rapidement", "rarement", "rationnellement", "récemment", "réciproquement", "recta", "réellement", "réglementairement", "régulièrement", "religieusement", "remarquablement", "résolument", "respectivement", "respectueusement", "rétroactivement", "rétrospectivement", "ridiculement", "rigidement", "rigoureusement", "rituellement", "rondement", "royalement", "rudement", "sacrément", "sagement", "sainement", "salement", "sardoniquement", "sauvagement", "savamment", "schématiquement", "sciemment", "scientifiquement", "secondairement", "secondement", "secrètement", "secundo", "seizièmement", "sélectivement", "sempiternellement", "sensément", "sensiblement", "sentencieusement", "sentimentalement", "septièmement", "sereinement", "sérieusement", "servilement", "seulement", "sévèrement", "sexuellement", "si", "silencieusement", "simplement", "simultanément", "sincèrement", "singulièrement", "sitôt", "sixièmement", "sobrement", "socialement", "soi-disant", "soigneusement", "soit", "solennellement", "solidement", "solitairement", "sommairement", "somptueusement", "sordidement", "sottement", "soudain", "soudainement", "souplement", "sourdement", "sournoisement", "souvent", "souverainement", "soigneusement", "spécialement", "spécieusement", "spécifiquement", "spirituellement", "splendidement", "spontanément", "sporadiquement", "sportivement", "statiquement", "stérilement", "stoïquement", "strictement", "studieusement", "stupidement", "suavement", "subitement", "subjectivement", "subrepticement", "substantivement", "subtilement", "successivement", "succinctement", "suffisamment", "superbement", "superficiellement", "supérieurement", "superstitieusement", "supra", "suprêmement", "surabondamment", "sûrement", "surtout", "sus", "symboliquement", "symétriquement", "synchroniquement", "systématiquement", "tacitement", "tant", "tantôt", "tard", "tardivement", "techniquement", "tellement", "témérairement", "temporairement", "tendancieusement", "tendrement", "ter", "terriblement", "tertio", "textuellement", "théâtralement", "théoriquement", "tièdement", "timidement", "tortueusement", "tôt", "totalement", "toujours", "tout-à-fait", "toutefois", "traditionnellement", "tragiquement", "traîtreusement", "tranquillement", "transitivement", "transversalement", "treizièmement", "très", "trimestriellement", "triomphalement", "triplement", "tristement", "trivialement", "troisièmement", "trompeusement", "trop", "tout", "tumultueusement", "typiquement", "ultérieurement", "unanimement", "uniènement", "uniformément", "unilatéralement", "uniquement", "universellement", "usuellement", "utilement", "vachement", "vaguement", "vainement", "valablement", "valeureusement", "vaniteusement", "verbalement", "véridiquement", "véritablement", "verticalement", "vertigineusement", "vertueusement", "vicieusement", "victorieusement", "vigoureusement", "vilainement", "vilement", "vingtièmement", "violemment", "virilement", "virtuellement", "visiblement", "visuellement", "vite", "voici", "voilà", "volontairement", "volontiers", "voluptueusement", "voracement", "vraiment", "vraisemblablement", "vulgairement", "y"];
let verbesCommuns = ["es", "est", "furent", "fus", "fusse", "fussent", "fusses", "fussiez", "fussions", "fussé", "fut", "fûmes", "fût", "fûtes", "sera", "serai", "seraient", "serais", "serait", "seras", "serez", "seriez", "serions", "serons", "seront", "soient", "sois", "soit", "sommes", "sont", "soyez", "soyons", "suis", "étaient", "étais", "était", "étant", "étiez", "étions", "été", "êtes", "être", "a", "ai", "aie", "aient", "aies", "ait", "as", "aura", "aurai", "auraient", "aurais", "aurait", "auras", "aurez", "auriez", "aurions", "aurons", "auront", "avaient", "avais", "avait", "avez", "aviez", "avions", "avoir", "avons", "ayant", "ayez", "ayons", "eu", "eue", "eues", "eurent", "eus", "eusse", "eussent", "eusses", "eussiez", "eussions", "eussé", "eut", "eûmes", "eût", "eûtes", "ont", "faire", "fais", "faisaient", "faisais", "faisait", "faisant", "faisiez", "faisions", "faisons", "fait", "faite", "faites", "faits", "fasse", "fassent", "fasses", "fassiez", "fassions", "fera", "ferai", "feraient", "ferais", "ferait", "feras", "ferez", "feriez", "ferions", "ferons", "feront", "firent", "fis", "fisse", "fissent", "fisses", "fissiez", "fissions", "fit", "font", "fîmes", "fît", "fîtes", "dira", "dirai", "diraient", "dirais", "dirait", "diras", "dire", "dirent", "direz", "diriez", "dirions", "dirons", "diront", "dis", "disaient", "disais", "disait", "disant", "dise", "disent", "dises", "disiez", "disions", "disons", "disse", "dissent", "disses", "dissiez", "dissions", "dit", "dite", "dites", "dits", "dît", "dîtes", "aille", "aillent", "ailles", "alla", "allai", "allaient", "allais", "allait", "allant", "allas", "allasse", "allassent", "allasses", "allassiez", "allassions", "aller", "allez", "allons", "allâmes", "allât", "allâtes", "allèrent", "allé", "allée", "allées", "allés", "ira", "irai", "iraient", "irais", "irait", "iras", "irez", "iriez", "irions", "irons", "iront", "va", "vais", "vas", "vont", "verra", "verrai", "verraient", "verrais", "verrait", "verras", "verrez", "verriez", "verrions", "verrons", "verront", "virent", "vis", "visse", "vissent", "visses", "vissiez", "vissions", "vit", "voie", "voient", "voies", "voir", "vois", "voit", "voyaient", "voyais", "voyait", "voyant", "voyez", "voyiez", "voyions", "voyons", "vu", "vue", "vues", "vus", "vîmes", "vît", "vîtes", "faille", "fallait", "falloir", "fallu", "fallut", "fallût", "faudra", "faudrait", "faut", "venaient", "venais", "venait", "venant", "venez", "veniez", "venions", "venir", "venons", "venu", "venue", "venues", "venus", "viendra", "viendrai", "viendraient", "viendrais", "viendrait", "viendras", "viendrez", "viendriez", "viendrions", "viendrons", "viendront", "vienne", "viennent", "viennes", "viens", "vient", "vinrent", "vins", "vinsse", "vinssent", "vinsses", "vinssiez", "vinssions", "vint", "vînmes", "vînt", "vîntes", "passer", "prenaient", "prenais", "prenait", "prenant", "prend", "prendra", "prendrai", "prendraient", "prendrais", "prendrait", "prendras", "prendre", "prendrez", "prendriez", "prendrions", "prendrons", "prendront", "prends", "prenez", "preniez", "prenions", "prenne", "prennent", "prennes", "prenons", "prirent", "pris", "prisse", "prissent", "prisses", "prissiez", "prissions", "prit", "prîmes", "prît", "prîtes"];

let stopwords = [...conjonctionsEtPrepositions, ...determinants, ...pronoms, ...adverbes, ...verbesCommuns];

function remove_stopwords(str) {
    let res = []
    let words = str.split(' ')
    for(i=0;i<words.length;i++) {
       let word_clean = words[i].split(".").join("")
       if(!stopwords.includes(word_clean.toLowerCase())) {
           res.push(word_clean)
       }
    }
    return(res.join(' '))
}  